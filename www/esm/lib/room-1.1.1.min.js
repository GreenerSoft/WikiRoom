/*! Room v1.1.1 | (c) GreenerSoft | https://roomjs.fr | MIT License */
let e=Symbol.toPrimitive,t=Symbol(),r=Symbol(),n=new WeakMap,a=new WeakMap,o=new WeakMap,s=new Map,i=[],l=[0],c=0,d=console,f=document,p=Object,u=Reflect,v="style",g="function",y=p.getPrototypeOf,E=p.entries,m=p.assign,w=Array.isArray,b=d.error,P=e=>null==e,L=e=>e instanceof p,M=e=>e instanceof Node,S=e=>typeof e==g,k=e=>e&&y(e)===p.prototype,W=e=>L(e)&&r in e,x=e=>e.flat(1/0),D=e=>e?e.replace(/_/g,"-"):e,N=(e,t)=>e&&e.toLowerCase()==v&&k(t),A=e=>{return L(e)&&(w(e)||k(e)||!((t=e.constructor).toString().replace(/ |\n/g,"")==g+t.name+"(){[nativecode]}"));var t},C=e=>i.length>l[0]&&i[0].push(e),O=(e,t)=>{e.children&&([...e.children].forEach((e=>O(e,t))),n.has(e)&&(e.dispatchEvent(new Event(t)),!e.isConnected&&n.delete(e)&&e.remove()))},z=(e,...t)=>{try{return e(...t)}catch(t){b===e?d.error(t):z(b,t)}},K=e=>(i.unshift([]),[z(e),new Set(i.shift())]),j=(e,t,n)=>L(e)&&e[r]?j(e.value,t,n):!n&&S(e)?j(z(e,t),t):e,q=e=>{let t=a.get(e);t&&t.forEach(((e,t)=>s.set(t,e))),s.size&&(c=c||requestAnimationFrame((()=>{s.forEach(((e,t)=>e?H(!0,e,t):Q(t))),s.clear(),c=0})))},B={get:(e,r,n)=>r===t?e:(C(e),u.get(e,r,n)),set:(e,t,r)=>(!p.is(e[t],r)&&(e[t]=F(r),q(e)),!0),defineProperty:(e,t,r)=>(q(e),u.defineProperty(e,t,r)),deleteProperty:(e,t)=>(q(e),u.deleteProperty(e,t)),ownKeys:e=>(C(e),u.ownKeys(e))},F=e=>(A(e)&&!e[t]&&(E(e).forEach((([t,r])=>e[t]=F(r))),e[t]=!0,e=new Proxy(e,B)),e),R=e=>{let r=e;return W(e)?r=e.value:A(e)&&e[t]&&(r=w(e)?[]:{},E(e[t]).forEach((([e,t])=>r[e]=R(t)))),r},T=(e,t,r,n)=>{let o;r.forEach((r=>(o=a.get(r))?e&&o.set(n,t):a.set(r,new Map([[n,t]]))))},_=function(e){let t=(n.get(this)||{})[e.type];t&&!1===z(t.bind(this),e)&&(e.preventDefault(),e.stopPropagation())},G=(e,t,r,n,a)=>t&&r.size&&T(!e||t!==a,a,r,n),H=(e,t,r)=>{let[a,o]=K((()=>{return N(r.a,r.v)?(e=t,n=r.v,p.fromEntries(E(n).map((([t,r])=>[D(t),j(r,e)])))):j(r.v,t,r.h);var e,n}));!(a=x([a])).length&&G(e,t,o,r,t),a.forEach((a=>G(e,t,o,r,r.a?((e,t,r,a)=>{if(a){t=t.toLowerCase().slice(2);let a=n.get(e);a&&(delete a[t],e.removeEventListener(t,_)),S(r)&&(a?a[t]=r:n.set(e,{[t]:r}),e.addEventListener(t,_))}else if(N(t,r))m(e[v],r);else{let n=p.getOwnPropertyDescriptor(y(e),t);n&&n.set?n.set.bind(e)(r):e[(P(r)?"remove":"set")+"Attribute"](t,r)}return e})(t,r.a,a,r.h):((e,t,r)=>(P(t)?r&&e.remove():M(t)?r?e.replaceWith(t):e.append(t):r?(e.data!==t&&(e.data=t),t=e):e.append(t=new Text(t)),t))(t,a,e))))};const I=(t,...r)=>(M(t)&&x(r).forEach((r=>{k(r)&&!(e in r)?E(r).forEach((([e,r])=>H(!1,t,{v:r,a:D(e),h:e.toLowerCase().startsWith("on")}))):H(!1,t,{v:r})})),t),h=function(e,...t){return I(this&&("string"==typeof(r=this)||r instanceof String)?f.createElementNS(this,e):f.createElement(e),...t);var r},elements=e=>new Proxy(h,{get:(t,r)=>t.bind(e,D(r))}),J=t=>F(A(t)?t:{[r]:!0,[e](){return this.value},value:t}),getData=e=>R(j(e)),setData=(e,r)=>{e!==r&&(W(e)?e.value=W(r)?r.value:A(r)?e.value:r:A(e)&&A(r)&&!W(r)&&y(e)===y(r)&&(w(e)?e.length=0:p.keys(e).forEach((t=>delete e[t])),m(e,e[t]?r:R(r))))},Q=(e,...r)=>{let[n,a]=K(e);return[...r].forEach((e=>e&&(e=e[t])&&a.add(e))),T(!0,null,a,e),n},U=e=>(l.unshift(i.length),e=j(e),l.shift(),e),onError=e=>S(e)&&(b=e),map=(e,t,r)=>(o.set(e,new WeakMap),Q((()=>U((()=>{let n,a,s,i,l,c,d,f=o.get(e),p=()=>w(t)?Number(n):n,u=()=>(d=z(r,a,l=J(p()),t))&&f.set(d,[l,a]),v=e.children,g=E(t),y=0;for(;y<v.length;)s=v[y],(i=f.get(s))&&y<g.length?([n,a]=g[y++],[l,c]=i,c===a?l.value=p():(g.slice(y).find((e=>e[1]===c))?(d=[...v].slice(y).find((e=>(i=f.get(e))&&i[1]===a)),(d||u())&&e.insertBefore(d,s)):f.delete(s),y--)):s.remove();for(;y<g.length;)[n,a]=g[y++],u()&&e.append(d);return e}))),t));f.addEventListener("visibilitychange",(()=>O(f.body,f.hidden?"pagehide":"pageshow"))),new MutationObserver((e=>e.forEach((e=>{[...e.addedNodes].forEach((e=>O(e,"mount"))),[...e.removedNodes].forEach((e=>O(e,"unmount")))})))).observe(f.body,{childList:!0,subtree:!0});export{I as append,h,elements,J as createData,setData,getData,Q as createEffect,U as untrack,onError,map};export default{append:I,h,elements,createData:J,setData,getData,createEffect:Q,untrack:U,onError,map};