/*! Tracking v1.0.0 | (c) GreenerSoft | https://greenersoft.fr | MIT License */
export class PiwikProTracking{static useSingleInstance(){return!0}constructor(i={}){this.canUseTracking=!0===i.canTrack&&i.trackingUserId&&i.trackingAppId&&!location.href.includes("-dev.fr"),this.trackingUserId=i.trackingUserId,this.trackingAppId=i.trackingAppId,this.trackingDimensions=i.trackingDimensions,this.onPageLoad=this.trackPage,this.install()}install(){if(this.canUseTracking)try{let i=`https://${this.trackingUserId}.piwik.pro/`;if(window._paq=window._paq||[],_paq.push(["setTrackerUrl",i+"ppms.php"]),_paq.push(["setSiteId",this.trackingAppId]),this.trackingDimensions)for(let t in this.trackingDimensions)_paq.push(["setCustomDimension",t,this.trackingDimensions[t]]);if(!document.getElementById("piwikScript")){let t=document.createElement("script");t.id="piwikScript",t.src=i+"ppms.js",document.head.appendChild(t)}}catch(i){this.canUseTracking=!1}}uninstall(){this.canUseTracking=!1,document.querySelectorAll("#piwikScript, #ppas_container_configuration").forEach((i=>i.remove())),delete window._paq}trackDownload(i){if(this.canUseTracking)try{_paq.push(["trackLink",i,"download"])}catch(t){}}trackPage(){if(this.canUseTracking)try{_paq.push(["setCustomUrl",location.href]),_paq.push(["setDocumentTitle",document.title]),_paq.push(["trackPageView"]),_paq.push(["enableLinkTracking"])}catch(i){}}}